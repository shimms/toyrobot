#!/usr/bin/env ruby

DEVELOPMENT=false

require './lib/toy_robot.rb'

if DEVELOPMENT   
   require 'byebug'
end

banner = <<-EOS

████████╗ ██████╗ ██╗   ██╗    ██████╗  ██████╗ ██████╗  ██████╗ ████████╗
╚══██╔══╝██╔═══██╗╚██╗ ██╔╝    ██╔══██╗██╔═══██╗██╔══██╗██╔═══██╗╚══██╔══╝
   ██║   ██║   ██║ ╚████╔╝     ██████╔╝██║   ██║██████╔╝██║   ██║   ██║   
   ██║   ██║   ██║  ╚██╔╝      ██╔══██╗██║   ██║██╔══██╗██║   ██║   ██║   
   ██║   ╚██████╔╝   ██║       ██║  ██║╚██████╔╝██████╔╝╚██████╔╝   ██║   
   ╚═╝    ╚═════╝    ╚═╝       ╚═╝  ╚═╝ ╚═════╝ ╚═════╝  ╚═════╝    ╚═╝   
                                                                          
EOS

puts banner

options = ToyRobot::Cli.parse_options

if DEVELOPMENT
   puts "Started with options: #{options}"
end

world = ToyRobot::World.new(
   ToyRobot::Reducer.new,
   ToyRobot::Parser.new,
   options[:width].to_i,
   options[:height].to_i
)

robot = ToyRobot::Robot.new(world)
cli = ToyRobot::Cli.new(robot)

cli.start_interactive(world)