#!/usr/bin/env ruby

DEVELOPMENT=true

require './lib/toy_robot.rb'

if DEVELOPMENT   
   require 'byebug'
end

banner = <<-EOS

████████╗ ██████╗ ██╗   ██╗    ██████╗  ██████╗ ██████╗  ██████╗ ████████╗
╚══██╔══╝██╔═══██╗╚██╗ ██╔╝    ██╔══██╗██╔═══██╗██╔══██╗██╔═══██╗╚══██╔══╝
   ██║   ██║   ██║ ╚████╔╝     ██████╔╝██║   ██║██████╔╝██║   ██║   ██║   
   ██║   ██║   ██║  ╚██╔╝      ██╔══██╗██║   ██║██╔══██╗██║   ██║   ██║   
   ██║   ╚██████╔╝   ██║       ██║  ██║╚██████╔╝██████╔╝╚██████╔╝   ██║   
   ╚═╝    ╚═════╝    ╚═╝       ╚═╝  ╚═╝ ╚═════╝ ╚═════╝  ╚═════╝    ╚═╝   
                                                                          
EOS

puts banner

options = ToyRobot::Cli.parse_options

parser = ToyRobot::Parser.new
reducer = ToyRobot::Reducer.new

world = ToyRobot::World.new(reducer, parser, options[:height], options[:width])
robot = ToyRobot::Robot.new(world)

cli = ToyRobot::Cli.new(robot)
cli.start_interactive(world)